(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))l(y);new MutationObserver(y=>{for(const C of y)if(C.type==="childList")for(const p of C.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function c(y){const C={};return y.integrity&&(C.integrity=y.integrity),y.referrerPolicy&&(C.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?C.credentials="include":y.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function l(y){if(y.ep)return;y.ep=!0;const C=c(y);fetch(y.href,C)}})();(function(d){Date.now||(Date.now=function(){return new Date().getTime()}),Math.trunc||(Math.trunc=function(s){return s<0?Math.ceil(s):Math.floor(s)}),Object.setPrototypeOf||(Object.setPrototypeOf=function(s,c){return s.__proto__=c,s}),d.WebSharper={Runtime:{Ctor:function(s,c){return s.prototype=c.prototype,s},Class:function(s,c,l){var y=s,C,p,J;if(c){y=new c;for(C in s)y[C]=s[C]}if(p=function(E){if(E)for(var Ae in E)this[Ae]=E[Ae]},p.prototype=y,l)for(J in l)p[J]=l[J];return p},Clone:function(s){var c={};for(var l of Object.getOwnPropertyNames(s))c[l]=s[l];return Object.setPrototypeOf(c,Object.getPrototypeOf(s)),c},NewObject:function(s){for(var c={},l=0;l<s.length;l++)c[s[l][0]]=s[l][1];return c},PrintObject:function(s){var c="{ ",l=!0;for(var y of Object.getOwnPropertyNames(s))l?l=!1:c+=", ",c+=y+" = "+s[y];return c+(l?"}":" }")},DeleteEmptyFields:function(s,c){for(var l,y=0;y<c.length;y++)l=c[y],s[l]===void 0&&delete s[l];return s},GetOptional:function(s){return s===void 0?null:{$:1,$0:s}},SetOptional:function(s,c,l){l?s[c]=l.$0:delete s[c]},SetOrDelete:function(s,c,l){l===void 0?delete s[c]:s[c]=l},Apply:function(s,c,l){return s.apply(c,l)},Bind:function(s){return function(){return s.apply(this,arguments)}},CreateFuncWithArgs:function(s){return function(){return s(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(s){return function(){return s(this)}},CreateFuncWithThis:function(s){return function(){return s(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(s){return function(){return s(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(s,c){return function(){return c(Array.prototype.slice.call(arguments,0,s).concat([Array.prototype.slice.call(arguments,s)]))}},CreateFuncWithArgsRest:function(s,c){return function(){return c([Array.prototype.slice.call(arguments,0,s),Array.prototype.slice.call(arguments,s)])}},BindDelegate:function(s,c){var l=s.bind(c);return l.$Func=s,l.$Target=c,l},CreateDelegate:function(s){if(s.length==0)return null;if(s.length==1)return s[0];var c=function(){for(var l,y=0;y<s.length;y++)l=s[y].apply(null,arguments);return l};return c.$Invokes=s,c},CombineDelegates:function(s){for(var c,l=[],y=0;y<s.length;y++)c=s[y],c&&("$Invokes"in c?l=l.concat(c.$Invokes):l.push(c));return WebSharper.Runtime.CreateDelegate(l)},DelegateEqual:function(s,c){var l,y,C,p,J;if(s===c)return!0;if(s==null||c==null||(l=s.$Invokes||[s],y=c.$Invokes||[c],l.length!=y.length))return!1;for(C=0;C<l.length;C++)if(p=l[C],J=y[C],!(p===J||"$Func"in p&&"$Func"in J&&p.$Func===J.$Func&&p.$Target==J.$Target))return!1;return!0},ThisFunc:function(s){return function(){var c=Array.prototype.slice.call(arguments);return c.unshift(this),s.apply(null,c)}},ThisFuncOut:function(s){return function(){var c=Array.prototype.slice.call(arguments);return s.apply(c.shift(),c)}},ParamsFunc:function(s,c){return function(){var l=Array.prototype.slice.call(arguments);return c.apply(null,l.slice(0,s).concat([l.slice(s)]))}},ParamsFuncOut:function(s,c){return function(){var l=Array.prototype.slice.call(arguments);return c.apply(null,l.slice(0,s).concat(l[s]))}},ThisParamsFunc:function(s,c){return function(){var l=Array.prototype.slice.call(arguments);return l.unshift(this),c.apply(null,l.slice(0,s+1).concat([l.slice(s+1)]))}},ThisParamsFuncOut:function(s,c){return function(){var l=Array.prototype.slice.call(arguments);return c.apply(l.shift(),l.slice(0,s).concat(l[s]))}},Curried:function(s,c,l){return l=l||[],function(y){var C=l.concat([y===void 0?null:y]);return c==1?s.apply(null,C):c==2?function(p){return s.apply(null,C.concat([p===void 0?null:p]))}:WebSharper.Runtime.Curried(s,c-1,C)}},Curried2:function(s){return function(c){return function(l){return s(c,l)}}},Curried3:function(s){return function(c){return function(l){return function(y){return s(c,l,y)}}}},UnionByType:function(s,c,l){for(var y,C=typeof c,p=0;p<s.length;p++)if(y=s[p],typeof y=="number"){if(Array.isArray(c)&&(y==0||c.length==y))return{$:p,$0:c}}else if(y==C)return{$:p,$0:c};if(!l)throw new Error("Type not expected for creating Choice value.")},MarkResizable:function(s){return Object.defineProperty(s,"resizable",{enumerable:!1,writable:!1,configurable:!1,value:!0}),s},MarkReadOnly:function(s){return Object.defineProperty(s,"readonly",{enumerable:!1,writable:!1,configurable:!1,value:!0}),s},ScriptBasePath:"./",ScriptPath:function(s,c){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":s+"/")+c},OnLoad:function(s){"load"in this||(this.load=[]),this.load.push(s)},Start:function(){function s(c){for(var l=0;l<c.length;l++)c[l]()}"load"in this&&(s(this.load),this.load=[])}}},d.WebSharper.Runtime.OnLoad(function(){d.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()}),d.ignore=function(){},d.id=function(s){return s},d.fst=function(s){return s[0]},d.snd=function(s){return s[1]},d.trd=function(s){return s[2]},d.console||(d.console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore})})(self);(function(d,s){s=d.Element.prototype,s.matches||(s.matches=s.msMatchesSelector||function(c){for(var l=(this.document||this.ownerDocument).querySelectorAll(c),y=0;l[y]&&l[y]!==e;++y);return!!l[y]}),s.closest||(s.closest=function(c){for(var l=this;l&&l.nodeType==1;){if(l.matches(c))return l;l=l.parentNode}return null})})(self);(function(){for(var d=0,s=["webkit","moz"],c=0;c<s.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[s[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[c]+"CancelAnimationFrame"]||window[s[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(l){var y=new Date().getTime(),C=Math.max(0,16-(y-d)),p=window.setTimeout(function(){l(y+C)},C);return d=y+C,p}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(l){clearTimeout(l)})})();(function(d){var s,c,l,y,C,p,J,E,Ae,wt,M,se,re,me,ge,N,_,K,S,Ve,G,Le,ot,oe,ae,g,T,Ue,f,q,ee,j,Ne,le,He,Ee,$e,it,Re,B,Se,H,Oe,je,te,Xe,ut,ke,at,lt,R,xe,st,z,F,Z,We,A,Te,X,fe,Ie,he,x,Ge,de,ct,Qe,pe,Ye,Fe,Je,ie,ft,ue,Be,ht,dt,Me,we,ye,qe,De,pt,yt,k,ve,et;s=d.ADarkForest=d.ADarkForest||{},c=s.Choice=s.Choice||{},l=d.WebSharper=d.WebSharper||{},y=l.Operators=l.Operators||{},C=l.Obj=l.Obj||{},p=l.UI=l.UI||{},J=p.Var=p.Var||{},E=p.Doc=p.Doc||{},Ae=l.JavaScript=l.JavaScript||{},wt=Ae.Pervasives=Ae.Pervasives||{},M=d.StartupCode$ADarkForest$Client=d.StartupCode$ADarkForest$Client||{},se=p.AttrProxy=p.AttrProxy||{},re=l.List=l.List||{},me=re.T=re.T||{},ge=p.Client=p.Client||{},N=ge.Templates=ge.Templates||{},_=p.View=p.View||{},K=p.DomUtility=p.DomUtility||{},S=p.Docs=p.Docs||{},Ve=p.Var$1=p.Var$1||{},G=p.Attrs=p.Attrs||{},Le=d.Node,ot=Ae.JS=Ae.JS||{},oe=l.Collections=l.Collections||{},ae=oe.Dictionary=oe.Dictionary||{},g=l.Unchecked=l.Unchecked||{},T=p.Snap=p.Snap||{},Ue=p.ConcreteVar=p.ConcreteVar||{},f=l.Arrays=l.Arrays||{},q=l.Seq=l.Seq||{},ee=d.StartupCode$WebSharper_UI$Templates=d.StartupCode$WebSharper_UI$Templates||{},j=oe.HashSet=oe.HashSet||{},Ne=p.Elt=p.Elt||{},le=p.Array=p.Array||{},He=p.DocElemNode=p.DocElemNode||{},Ee=p.Abbrev=p.Abbrev||{},$e=Ee.Fresh=Ee.Fresh||{},it=oe.DictionaryUtil=oe.DictionaryUtil||{},Re=d.Object,B=N.Prepare=N.Prepare||{},Se=l.Slice=l.Slice||{},H=l.Enumerator=l.Enumerator||{},Oe=oe.KeyCollection=oe.KeyCollection||{},je=l.Numeric=l.Numeric||{},te=p.An=p.An||{},Xe=ge.Settings=ge.Settings||{},ut=Ee.Mailbox=Ee.Mailbox||{},ke=p.Updates=p.Updates||{},at=ge.Attrs=ge.Attrs||{},lt=at.Dyn=at.Dyn||{},R=l.Strings=l.Strings||{},xe=ge.Docs=ge.Docs||{},st=xe.RunState=xe.RunState||{},z=xe.NodeSet=xe.NodeSet||{},F=l.Concurrency=l.Concurrency||{},Z=p.Anims=p.Anims||{},We=d.StartupCode$WebSharper_UI$Doc_Proxy=d.StartupCode$WebSharper_UI$Doc_Proxy||{},A=d.StartupCode$WebSharper_UI$Attr_Client=d.StartupCode$WebSharper_UI$Attr_Client||{},Te=d.StartupCode$WebSharper_UI$Abbrev=d.StartupCode$WebSharper_UI$Abbrev||{},X=d.StartupCode$WebSharper_UI$DomUtility=d.StartupCode$WebSharper_UI$DomUtility||{},fe=H.T=H.T||{},Ie=d.StartupCode$WebSharper_UI$Animation=d.StartupCode$WebSharper_UI$Animation||{},he=p.AppendList=p.AppendList||{},x=p.BindVar=p.BindVar||{},Ge=p.String=p.String||{},de=p.CheckedInput=p.CheckedInput||{},ct=l.Queue=l.Queue||{},Qe=d.Error,pe=l.KeyNotFoundException=l.KeyNotFoundException||{},Ye=F.Scheduler=F.Scheduler||{},Fe=p.Easing=p.Easing||{},Je=F.AsyncBody=F.AsyncBody||{},ie=d.StartupCode$WebSharper_Main$Concurrency=d.StartupCode$WebSharper_Main$Concurrency||{},ft=F.CT=F.CT||{},ue=Ee.HashSet=Ee.HashSet||{},Be=oe.HashSetUtil=oe.HashSetUtil||{},ht=l.Char=l.Char||{},dt=l.DateUtil=l.DateUtil||{},Me=l.CancellationTokenSource=l.CancellationTokenSource||{},we=xe.DomNodes=xe.DomNodes||{},ye=l.OperationCanceledException=l.OperationCanceledException||{},qe=l.Lazy=l.Lazy||{},De=d.StartupCode$WebSharper_UI$AppendList=d.StartupCode$WebSharper_UI$AppendList||{},pt=l.LazyExtensionsProxy=l.LazyExtensionsProxy||{},yt=pt.LazyRecord=pt.LazyRecord||{},k=l&&l.Runtime,ve=d.console,et=d.Date,c.Main=function(){var t;t=E.Element("div",[],[E.Element("h1",[],[E.TextView(c.display().get_View())]),E.Element("button",[se.HandlerImpl("click",function(){return function(){return c.handleEvent(0)}})],[E.TextNode("No")]),E.Element("button",[se.HandlerImpl("click",function(){return function(){return c.handleEvent(1)}})],[E.TextNode("Yes")])]),N.LoadLocalTemplates(""),E.RunById("main",t)},c.display=function(){return M.$cctor(),M.display},c.handleEvent=function(t){t===0?(c.display().Set(c.leftDisplay().get_Item(c.leftCounter())),c.leftDisplay().get_Item(c.leftCounter())!="You Died."&&c.set_leftCounter(c.leftCounter()+1)):(c.display().Set(c.rightDisplay().get_Item(c.rightCounter())),c.rightDisplay().get_Item(c.rightCounter())!="You Died."&&c.set_rightCounter(c.rightCounter()+1))},c.leftDisplay=function(){return M.$cctor(),M.leftDisplay},c.leftCounter=function(){return M.$cctor(),M.leftCounter},c.set_leftCounter=function(t){M.$cctor(),M.leftCounter=t},c.rightDisplay=function(){return M.$cctor(),M.rightDisplay},c.rightCounter=function(){return M.$cctor(),M.rightCounter},c.set_rightCounter=function(t){M.$cctor(),M.rightCounter=t},y.FailWith=function(t){throw new Qe(t)},y.KeyValue=function(t){return[t.K,t.V]},y.range=function(t,n){var r;return r=1+n-t,r<=0?[]:q.init(r,function(o){return o+t})},C=l.Obj=k.Class({Equals:function(t){return this===t},GetHashCode:function(){return-1}},null,C),C.New=k.Ctor(function(){},C),J=p.Var=k.Class({},C,J),J.New=k.Ctor(function(){C.New.call(this)},J),E=p.Doc=k.Class({},C,E),E.TextNode=function(t){return E.Mk({$:5,$0:self.document.createTextNode(t)},_.Const())},E.TextView=function(t){var n;return n=S.CreateTextNode(),E.Mk({$:4,$0:n},_.Map(function(r){S.UpdateTextNode(n,r)},t))},E.RunById=function(t,n){var r;r=self.document.getElementById(t),g.Equals(r,null)?y.FailWith("invalid id: "+t):E.Run(r,n)},E.Element=function(t,n,r){var o,i;return o=se.Concat(n),i=E.Concat(r),Ne.New(self.document.createElement(t),o,i)},E.Mk=function(t,n){return new E.New(t,n)},E.Run=function(t,n){S.LinkElement(t,n.docNode),E.RunInPlace(!1,t,n)},E.Concat=function(t){var n;return n=le.ofSeqNonCopying(t),le.TreeReduce(E.get_Empty(),E.Append,n)},E.RunInPlace=function(t,n,r){var o;o=S.CreateRunState(n,r.docNode),_.Sink(te.get_UseAnimations()||Xe.BatchUpdatesEnabled()?ut.StartProcessor(S.PerformAnimatedUpdate(t,o,r.docNode)):function(){S.PerformSyncUpdate(t,o,r.docNode)},r.updates)},E.Append=function(t,n){return E.Mk({$:0,$0:t.docNode,$1:n.docNode},_.Map2Unit(t.updates,n.updates))},E.get_Empty=function(){return E.Mk(null,_.Const())},E.New=k.Ctor(function(t,n){C.New.call(this),this.docNode=t,this.updates=n},E),wt.NewFromSeq=function(t){var n,r,o;n={},r=H.Get(t);try{for(;r.MoveNext();)o=r.Current(),n[o[0]]=o[1]}finally{typeof r=="object"&&"Dispose"in r&&r.Dispose()}return n},M.$cctor=function(){M.$cctor=d.ignore,M.display=Ve.Create$1("You wake up in a dark forest. Your vision is blurry and you are famished."),M.leftDisplay=re.ofArray(["You see a path leading left. Do you go left?","You walk left and find a friendly talking squirrel. The squirrel offers you a nut. Do you take it?","You take the nut. The squirrel thanks you and scurries away. Do you continue down the path?","A gentle breeze rustles the leaves, whispering secrets in your ear. Do you follow the path deeper into the woods, or do you look for a hidden path leading elsewhere?","You focus on the whispers of the wind. Does it seem to beckon you in a specific direction?","You trust the wind's guidance and head in that direction. The path ahead seems less clear. Do you press on or turn back?","Suddenly, you hear a loud rustling sound behind you. Do you turn around to investigate or keep walking?","Seeing nothing on the ground, you decide to climb a nearby tree for a better look. Do you climb high into the branches or stay low for a quick escape?","Curious, you examine the nut the squirrel offered. Does it appear normal or is there something unusual about it?","Feeling grateful, you offer the squirrel something from your backpack. Do you offer it food, water, or something else?","You notice animal tracks in the dirt. Do you follow the tracks or continue on the main path?","Feeling cheerful, you decide to sing a song as you walk. Does your song attract any attention?","Feeling peckish, you decide to search for berries or edible plants. Do you find anything?","Following the wind's guidance, you come across a large, flat rock. Do you carve a symbol on the rock or leave it untouched?","Feeling a strange connection to the woods, you try talking to the trees. Do they respond in any way?","As the sun begins to set, you decide to build a shelter for the night. Do you build a simple lean-to or something more elaborate?","As you turn to investigate the rustling, you sense a strange presence nearby. Do you call out or stay hidden?","You decide to leave a small gift on a branch as a thank you for the lookout point. Do you leave food, a shiny object, or something else?","The wind carries the faint scent of something sweet. Could it be berries or wildflowers?","As you walk, you spot a curious glint of light reflecting off something in the distance. Do you investigate?","You hear the sound of trickling water. Perhaps there's a hidden stream nearby?","The path forks again. This time, there's a weathered signpost pointing in two different directions. Do you follow the sign or forge your own path?","Lost in thought, you almost miss a small, colorful bird perched on a branch. It seems to be watching you intently. Do you greet the bird?","The air grows noticeably cooler. Is night approaching, or is there something magical at play?","You feel a strange tingling sensation on your skin. Is it just the wind, or something more?","A memory surfaces from your past. Does it offer any clues about your current situation?","The forest seems to hold its breath. An unsettling silence descends upon you. Do you press on or turn back?","You hear a low, mournful howl echoing through the trees. Does it send chills down your spine?","A mysterious fog begins to roll in, obscuring your path. Do you wait for it to clear or proceed carefully?","You come across a small clearing with a circle of stones. Do you investigate or avoid it?","You notice a flickering light in the distance. Do you head towards it or stay where you are?","A soft melody drifts through the air. Do you follow the sound or ignore it?","You find an old, weathered journal on the ground. Do you read it or leave it alone?","The scent of fresh pine fills the air. Does it make you feel at ease or on edge?","You hear a distant, haunting lullaby. Do you search for its source or continue on your path?","A pair of glowing eyes peer at you from the darkness. Do you approach or retreat?","You feel a sudden burst of energy. Do you use it to explore further or save it for later?","A sense of familiarity washes over you as you walk. Do you recall why this place feels known?","You notice a tree with strange carvings. Do you investigate their meaning or move on?","You come upon a sparkling stream. Do you stop to drink or continue walking?","A flash of light catches your eye from the ground. Do you dig to uncover its source?","The woods seem to whisper your name. Do you call back or remain silent?","You feel a presence behind you. Do you turn around or quicken your pace?","A fallen log blocks your path. Do you climb over it or find another way around?","You come across an old, abandoned cabin. Do you enter or continue on your way?","You hear a soft giggle nearby. Do you investigate or ignore it?","You find a mysterious amulet on the ground. Do you pick it up or leave it?","You find a hidden alcove with strange symbols on the walls. Do you examine them or move on?","A rabbit hops across your path and stops to look at you. Do you follow it or stay on your path?","You hear distant chanting. Do you follow the sound or avoid it?","A thick vine hangs from a tall tree. Do you climb it or leave it alone?","You find a small pond with crystal-clear water. Do you stop to drink or move on?","A fallen leaf drifts gently to the ground. Do you pick it up or keep walking?","You come across an old, crumbling stone wall. Do you climb over it or walk around it?","The air smells of fresh rain. Do you seek shelter or enjoy the weather?","You hear the sound of laughter coming from ahead. Do you investigate or avoid it?","A narrow, overgrown trail branches off the main path. Do you take it or stay on your course?","You find a piece of parchment with strange writing. Do you try to read it or ignore it?","A deer stands in the clearing, watching you. Do you approach it or stay still?","You notice a peculiar rock formation. Do you examine it closely or move on?","The forest floor feels soft beneath your feet. Do you sit and rest or keep walking?","You hear a babbling brook nearby. Do you follow the sound or stay on the path?","A colorful butterfly flutters past. Do you follow it or let it go?","You find an old, rusty lantern. Do you take it with you or leave it?","The canopy above opens up to reveal the sky. Do you stop to stargaze or continue walking?","You hear a rustling in the bushes. Do you investigate or ignore it?","A gentle rain begins to fall. Do you seek shelter or continue walking?","You find a carved wooden totem. Do you examine it or move on?","A cool breeze caresses your face. Do you follow the direction it's coming from or stay on your path?","You notice a trail of glowing mushrooms. Do you follow them or avoid them?","You find a small, ornate box half-buried in the ground. Do you open it or leave it?","A distant bell chimes softly. Do you follow the sound or ignore it?","You see a flash of movement in the trees. Do you investigate or stay on your path?","A soft glow emanates from a nearby grove. Do you explore it or keep walking?","You find an old, weathered signpost. Do you follow its directions or choose your own path?","A strange, sweet fragrance fills the air. Do you search for its source or ignore it?","You hear a soft humming nearby. Do you follow the sound or stay on the path?","A shadowy figure crosses your path and disappears. Do you chase it or let it go?","You chase after him but he turns out to be a ghastly figure you cannot make out. Do you attempt to fight it?","You died."]),M.rightDisplay=re.ofArray(["Off the beaten path to the right you hear footsteps. Do you go right?","You head right and encounter a grumpy troll. The troll demands a riddle be answered. Do you answer?","You answer. The troll asks you a riddle, 'What sets beyond the stars but isn't part of it?'","You refuse to answer the riddle. Do you try to outsmart the troll with a question of your own, or do you attempt to fight your way past?","The troll seems impressed by your refusal. He offers you a cryptic clue: 'Seek the whispering stones by the moonlight.' What do you do?","Instead of answering the riddle, you offer the troll something from your backpack. Do you offer him food, a shiny object, or something else?","Feeling bold, you challenge the troll to a contest of strength, wit, or magic (choose one).  Do you accept the challenge?","Instead of answering the riddle or offering a gift, you try to negotiate with the troll. What do you offer him in exchange for passage?","Hoping to lighten the mood, you try to tell the troll a joke. Does it make him laugh?","Curious about the footsteps, you ask the troll who made them. Does he answer your question?","Hoping to confuse the troll, you pretend you don't understand the riddle. Does he buy your act?","The troll guards a rickety bridge. You decide to inspect it for weaknesses. Do you find a way to bypass the troll or does he catch you?","Trying a different approach, you appeal to the troll's emotions. Do you tell him a sad story or try to make him feel sympathy?","Sensing the troll's loneliness, you offer to help him with something. Does he accept your offer?","The troll refuses your chosen contest. He offers you a challenge of speed, endurance, or illusion. Do you accept his new challenge?","Curious about the troll, you ask him for his name. Does he reveal it to you?","Following the troll's clue, you wait for nightfall and search for the whispering stones by moonlight. Do you find them?","A peculiar, glowing flower catches your eye. You've never seen anything like it before. Do you touch it or admire it from afar?","The wind carries the faint sound of music. Does it lead you closer or further down the path?","You stumble upon a clearing bathed in sunlight. In the center stands a weathered statue, moss-covered and mysterious. Do you approach it?","A feeling of deja vu washes over you. Have you been here before? Does your memory offer any clues?","You spot a set of strange symbols carved into a nearby tree. Do you try to decipher them?","The forest air crackles with an unseen energy. Do you sense danger or something more mystical?","A sudden gust of wind whips through the trees, scattering leaves and sending shivers down your spine. Do you seek shelter or press on?","You hear a high-pitched cry echoing through the woods. Does it sound familiar?","A sense of urgency fills you. Do you quicken your pace or follow your initial plan?","The path narrows, squeezing between towering trees. Does sunlight struggle to penetrate the dense canopy above?","You notice a faint trail branching off the main path. Do you follow it or stay on the main path?","A strange, sweet smell fills the air. Do you investigate its source or ignore it?","You find an old, rusted key half-buried in the dirt. Do you take it with you or leave it?","A gentle, melodic humming catches your attention. Do you follow the sound or stay put?","You come across a small, abandoned campsite. Do you search the campsite or move on?","A curious fox crosses your path and pauses to look at you. Do you approach it or keep your distance?","You find a piece of torn fabric caught on a branch. Do you investigate further or leave it alone?","A sudden, eerie silence falls over the forest. Do you press on cautiously or turn back?","You spot a faint, glowing light through the trees. Do you head towards it or avoid it?","A distant rumble of thunder suggests a storm is coming. Do you seek shelter or continue on your way?","You come across an old, twisted tree with gnarled branches. Do you investigate it or move on?","The ground beneath your feet feels different, almost hollow. Do you dig or continue walking?","You find a strange, ornate box buried in the ground. Do you open it or leave it alone?","A rustling in the bushes catches your attention. Do you investigate or stay on the path?","You come across a shimmering portal. Do you step through it or avoid it?","A chill runs down your spine as you hear a distant scream. Do you follow the sound or stay where you are?","You find an old map on the ground. Do you try to follow it or ignore it?","A large boulder blocks your path. Do you climb over it or find a way around?","You notice a hidden door in the side of a hill. Do you open it or move on?","A gentle breeze carries the sound of laughter. Do you follow it or ignore it?","You find a set of footprints leading off the path. Do you follow them or stay on the main trail?","The air grows warmer as you approach a clearing. Do you enter or stay in the shade of the trees?","You see a flicker of movement out of the corner of your eye. Do you investigate or keep going?","A feeling of unease settles over you. Do you press on or turn back?","You come across an ancient ruin hidden in the forest. Do you explore it or leave it alone?","A soft, glowing orb floats in the air before you. Do you reach out to touch it or watch from a distance?","You hear a strange chant coming from deeper in the woods. Do you follow the sound or stay on your path?","You find an abandoned backpack with supplies. Do you take it or leave it?","A sudden flash of lightning illuminates a hidden path. Do you take it or stick to the main trail?","You notice a small, hidden pond with crystal-clear water. Do you stop to drink or move on?","A pair of glowing eyes peer at you from the darkness. Do you approach or retreat?","You find a mysterious pendant lying on the ground. Do you pick it up or leave it?","A strange fog begins to roll in, obscuring your path. Do you wait for it to clear or proceed carefully?","You come across a small clearing with a circle of stones. Do you investigate or avoid it?","You notice a flickering light in the distance. Do you head towards it or stay where you are?","A soft melody drifts through the air. Do you follow the sound or ignore it?","You find an old, weathered journal on the ground. Do you read it or leave it alone?","The scent of fresh pine fills the air. Does it make you feel at ease or on edge?","You hear a distant, haunting lullaby. Do you search for its source or continue on your path?","A pair of glowing eyes peer at you from the darkness. Do you approach or retreat?","You feel a sudden burst of energy. Do you use it to explore further or save it for later?","A sense of familiarity washes over you as you walk. Do you recall why this place feels known?","You notice a tree with strange carvings. Do you investigate their meaning or move on?","You come upon a sparkling stream. Do you stop to drink or continue walking?","A flash of light catches your eye from the ground. Do you dig to uncover its source?","The woods seem to whisper your name. Do you call back or remain silent?","You feel a presence behind you. Do you turn around or quicken your pace?","A fallen log blocks your path. Do you climb over it or find another way around?","You finally see a opening out of the forest. Do you take it?","You died."]),M.leftCounter=0,M.rightCounter=0},se=p.AttrProxy=k.Class({},null,se),se.HandlerImpl=function(t,n){return G.Static(function(r){r.addEventListener(t,function(o){return n(r)(o)},!1)})},se.Concat=function(t){var n;return n=le.ofSeqNonCopying(t),le.TreeReduce(G.EmptyAttr(),se.Append,n)},se.Append=function(t,n){return G.AppendTree(t,n)},me=re.T=k.Class({get_Item:function(t){return q.nth(t,this)},GetEnumerator:function(){return new fe.New(this,null,function(t){var n;return n=t.s,n.$==0?!1:(t.c=n.$0,t.s=n.$1,!0)},void 0)}},null,me),me.Empty=new me({$:0}),N.LoadLocalTemplates=function(t){N.LocalTemplatesLoaded()||(N.set_LocalTemplatesLoaded(!0),N.LoadNestedTemplates(self.document.body,"")),N.LoadedTemplates().set_Item(t,N.LoadedTemplateFile(""))},N.LocalTemplatesLoaded=function(){return ee.$cctor(),ee.LocalTemplatesLoaded},N.set_LocalTemplatesLoaded=function(t){ee.$cctor(),ee.LocalTemplatesLoaded=t},N.LoadNestedTemplates=function(t,n){var r,o,i,u,a,h,$,L,O,Y,I,b,m,w,v,U,W,Q,D,V,ne;function ce(P){var Ce,be;r.ContainsKey(P)||(Ce=(be=null,[o.TryGetValue(P,{get:function(){return be},set:function(Pe){be=Pe}}),be]),Ce[0]?(ne.SAdd(P),o.RemoveKey(P),N.PrepareTemplateStrict(n,{$:1,$0:P},Ce[1],{$:1,$0:ce})):ve.warn(ne.Contains(P)?"Encountered loop when instantiating "+P:"Local template does not exist: "+P))}for(r=N.LoadedTemplateFile(n),o=new ae.New$5,i=t.querySelectorAll("[ws-template]"),u=0,a=i.length-1;u<=a;u++)h=i[u],$=h.getAttribute("ws-template").toLowerCase(),h.removeAttribute("ws-template"),o.set_Item($,N.FakeRootSingle(h));for(L=t.querySelectorAll("[ws-children-template]"),O=0,Y=L.length-1;O<=Y;O++)I=L[O],b=I.getAttribute("ws-children-template").toLowerCase(),I.removeAttribute("ws-children-template"),o.set_Item(b,N.FakeRoot(I));for(m=t.querySelectorAll("template[id]"),w=0,v=m.length-1;w<=v;w++)U=m[w],o.set_Item(U.getAttribute("id").toLowerCase(),N.FakeRootFromHTMLTemplate(U));for(W=t.querySelectorAll("template[name]"),Q=0,D=W.length-1;Q<=D;Q++)V=W[Q],o.set_Item(V.getAttribute("name").toLowerCase(),N.FakeRootFromHTMLTemplate(V));for(ne=new j.New$3;o.count>0;)ce(q.head(o.Keys()))},N.LoadedTemplates=function(){return ee.$cctor(),ee.LoadedTemplates},N.LoadedTemplateFile=function(t){var n,r,o;return n=(r=null,[N.LoadedTemplates().TryGetValue(t,{get:function(){return r},set:function(i){r=i}}),r]),n[0]?n[1]:(o=new ae.New$5,N.LoadedTemplates().set_Item(t,o),o)},N.FakeRootSingle=function(t){var n,r,o,i;return t.removeAttribute("ws-template"),n=t.getAttribute("ws-replace"),n==null||(t.removeAttribute("ws-replace"),r=t.parentNode,g.Equals(r,null)||(o=self.document.createElement(t.tagName),o.setAttribute("ws-replace",n),r.replaceChild(o,t))),i=self.document.createElement("div"),i.appendChild(t),i},N.FakeRoot=function(t){var n;for(n=self.document.createElement("div");t.hasChildNodes();)n.appendChild(t.firstChild);return n},N.FakeRootFromHTMLTemplate=function(t){var n,r,o,i;for(n=self.document.createElement("div"),r=t.content,o=0,i=r.childNodes.length-1;o<=i;o++)n.appendChild(r.childNodes[o].cloneNode(!0));return n},N.PrepareTemplateStrict=function(t,n,r,o){var i,u;function a(I,b){var m,w,v,U,W,Q,D,V,ne,ce,P,Ce,be,Pe,Ke,vt,ze,mt,tt,Ct,gt,$t,nt,At,Ze;function Nt(_e){}for(;;)switch(I){case 0:if(b!==null)m=b.nextSibling,g.Equals(b.nodeType,Le.TEXT_NODE)?B.convertTextNode(b):g.Equals(b.nodeType,Le.ELEMENT_NODE)&&$(b),b=m;else return null;break;case 1:if(W=Se.string(b.nodeName,{$:1,$0:3},null).toLowerCase(),Q=(w=W.indexOf("."),w===-1?[t,W]:[Se.string(W,null,{$:1,$0:w-1}),Se.string(W,{$:1,$0:w+1},null)]),D=Q[1],V=Q[0],V!=""&&!N.LoadedTemplates().ContainsKey(V))return B.failNotLoaded(D);if(V==""&&o!=null&&o.$0(D),ne=N.LoadedTemplates().Item(V),ne.ContainsKey(D)){for(ce=ne.Item(D),P=ce.cloneNode(!0),Ce=new j.New$3,be=new ae.New$5,Pe=b.attributes,Ke=0,vt=Pe.length-1;Ke<=vt;Ke++)ze=Pe.item(Ke).name.toLowerCase(),be.set_Item(ze,(mt=Pe.item(Ke).nodeValue,mt==""?ze:mt.toLowerCase())),Ce.SAdd(ze)||ve.warn("Hole mapped twice",ze);for(tt=0,Ct=b.childNodes.length-1;tt<=Ct;tt++)gt=b.childNodes[tt],g.Equals(gt.nodeType,Le.ELEMENT_NODE)&&(Ce.SAdd(gt.nodeName.toLowerCase())||ve.warn("Hole filled twice",D));if($t=b.childNodes.length===1&&g.Equals(b.firstChild.nodeType,Le.TEXT_NODE),$t&&(v=B.fillTextHole(P,b.firstChild.textContent,D),function(_e){return function(rt){rt!=null&&_e(rt.$0)}}((U=function(_e){return function(rt){return _e.SAdd(rt)}}(Ce),function(_e){return U(_e),void 0}))(v)),B.removeHolesExcept(P,Ce),!$t)for(nt=0,At=b.childNodes.length-1;nt<=At;nt++)Ze=b.childNodes[nt],g.Equals(Ze.nodeType,Le.ELEMENT_NODE)&&(Ze.hasAttributes()?B.fillInstanceAttrs(P,Ze):h(P,Ze));B.mapHoles(P,be),B.fill(P,b.parentNode,b),b.parentNode.removeChild(b);return}else return B.failNotLoaded(D)}}function h(I,b){var m,w,v,U;function W(Q,D){var V;if(v=="title"&&b.hasChildNodes())for(V=K.ParseHTMLIntoFakeRoot(b.textContent),b.removeChild(b.firstChild);V.hasChildNodes();)b.appendChild(V.firstChild);return $(b),B.fill(b,Q,D)}if(v=b.nodeName.toLowerCase(),N.foreachNotPreserved(I,"[ws-attr-holes]",function(Q){var D,V,ne,ce,P;for(D=R.SplitChars(Q.getAttribute("ws-attr-holes"),[" "],1),V=0,ne=D.length-1;V<=ne;V++)ce=f.get(D,V),Q.setAttribute(ce,(P=new d.RegExp("\\${"+v+"}","ig"),Q.getAttribute(ce).replace(P,b.textContent)))}),U=I.querySelector("[ws-hole="+v+"]"),g.Equals(U,null))return m=I.querySelector("[ws-replace="+v+"]"),g.Equals(m,null)?(w=I.querySelector("slot[name="+v+"]"),I.tagName.toLowerCase()=="template"?(W(w.parentNode,w),void w.parentNode.removeChild(w)):null):(W(m.parentNode,m),void m.parentNode.removeChild(m));for(;U.hasChildNodes();)U.removeChild(U.lastChild);return U.removeAttribute("ws-hole"),W(U,null)}function $(I){I.hasAttribute("ws-preserve")||(R.StartsWith(I.nodeName.toLowerCase(),"ws-")?O(I):(B.convertAttrs(I),L(I.firstChild)))}function L(I){return a(0,I)}function O(I){return a(1,I)}function Y(I){for(var b,m,w,v,U,W,Q,D,V,ne,ce,P;;)if(b=I.querySelector("[ws-template]"),g.Equals(b,null))if(m=I.querySelector("[ws-children-template]"),g.Equals(m,null)){for(w=I.querySelectorAll("template[id]"),v=1,U=w.length-1;v<=U;v++)W=w[v],i.Contains(W)||(N.PrepareTemplateStrict(t,{$:1,$0:W.getAttribute("id")},W,null),i.SAdd(W));for(Q=I.querySelectorAll("template[name]"),D=1,V=Q.length-1;D<=V;D++)ne=Q[D],i.Contains(ne)||(N.PrepareTemplateStrict(t,{$:1,$0:ne.getAttribute("name")},ne,null),i.SAdd(ne));return null}else ce=m.getAttribute("ws-children-template"),m.removeAttribute("ws-children-template"),N.PrepareTemplateStrict(t,{$:1,$0:ce},m,null),I=I;else P=b.getAttribute("ws-template"),N.PrepareSingleTemplate(t,{$:1,$0:P},b)(null),I=I}i=new j.New$3,u=(n==null?"":n.$0).toLowerCase(),N.LoadedTemplateFile(t).set_Item(u,r),r.hasChildNodes()&&(Y(r),L(r.firstChild))},N.foreachNotPreserved=function(t,n,r){K.IterSelector(t,n,function(o){o.closest("[ws-preserve]")==null&&r(o)})},N.PrepareSingleTemplate=function(t,n,r){var o;return o=N.FakeRootSingle(r),function(i){N.PrepareTemplateStrict(t,n,o,i)}},N.TextHoleRE=function(){return ee.$cctor(),ee.TextHoleRE},_.Const=function(t){var n;return n=T.New({$:0,$0:t}),function(){return n}},_.Map=function(t,n){return _.CreateLazy(function(){return T.Map(t,n())})},_.CreateLazy=function(t){var n;return n={c:null,o:t},function(){var r,o;return r=n.c,r===null&&(r=n.o(),n.c=r,o=r.s,o!=null&&o.$==0?n.o=null:T.WhenObsoleteRun(r,function(){n.c=null})),r}},_.Sink=function(t,n){function r(){T.WhenRun(n(),t,function(){F.scheduler().Fork(r)})}F.scheduler().Fork(r)},_.Map2Unit=function(t,n){return _.CreateLazy(function(){return T.Map2Unit(t(),n())})},K.ParseHTMLIntoFakeRoot=function(t){var n,r,o,i,u;function a(h,$){for(var L;;){if($===0)return h;L=$,h=h.lastChild,$=L-1}}return n=self.document.createElement("div"),K.rhtml().test(t)?(r=(o=K.rtagName().exec(t),g.Equals(o,null)?"":f.get(o,1).toLowerCase()),i=(u=K.wrapMap()[r],u||K.defaultWrap()),n.innerHTML=i[1]+t.replace(K.rxhtmlTag(),"<$1></$2>")+i[2],a(n,i[0])):(n.appendChild(self.document.createTextNode(t)),n)},K.rhtml=function(){return X.$cctor(),X.rhtml},K.wrapMap=function(){return X.$cctor(),X.wrapMap},K.defaultWrap=function(){return X.$cctor(),X.defaultWrap},K.rxhtmlTag=function(){return X.$cctor(),X.rxhtmlTag},K.rtagName=function(){return X.$cctor(),X.rtagName},K.IterSelector=function(t,n,r){var o,i,u;for(o=t.querySelectorAll(n),i=0,u=o.length-1;i<=u;i++)r(o[i])},K.InsertAt=function(t,n,r){var o;r.parentNode===t&&n===(o=r.nextSibling,g.Equals(o,null)?null:o)||t.insertBefore(r,n)},K.RemoveNode=function(t,n){n.parentNode===t&&t.removeChild(n)},S.CreateTextNode=function(){return{Text:self.document.createTextNode(""),Dirty:!1,Value:""}},S.UpdateTextNode=function(t,n){t.Value=n,t.Dirty=!0},S.LinkElement=function(t,n){S.InsertDoc(t,n,null)},S.InsertDoc=function(t,n,r){for(var o,i,u;;){if(n!=null&&n.$==1)return S.InsertNode(t,n.$0.El,r);if(n!=null&&n.$==2)o=n.$0,o.Dirty=!1,n=o.Current;else{if(n==null)return r;if(n!=null&&n.$==4)return S.InsertNode(t,n.$0.Text,r);if(n!=null&&n.$==5)return S.InsertNode(t,n.$0,r);if(n!=null&&n.$==6)return f.foldBack(function(a,h){return k.Curried3(function($,L,O){return L==null||L.constructor===Re?S.InsertDoc($,L,O):S.InsertNode($,L,O)})(t)(a)(h)},n.$0.Els,r);i=n.$1,u=n.$0,n=u,r=S.InsertDoc(t,i,r)}}},S.CreateRunState=function(t,n){return st.New(z.get_Empty(),S.CreateElemNode(t,G.EmptyAttr(),n))},S.PerformAnimatedUpdate=function(t,n,r){return te.get_UseAnimations()?F.Delay(function(){var o,i,u;return o=z.FindAll(r),i=S.ComputeChangeAnim(n,o),u=S.ComputeEnterAnim(n,o),F.Bind(te.Play(te.Append(i,S.ComputeExitAnim(n,o))),function(){return F.Bind(S.SyncElemNodesNextFrame(t,n),function(){return F.Bind(te.Play(u),function(){return n.PreviousNodes=o,F.Return(null)})})})}):S.SyncElemNodesNextFrame(t,n)},S.PerformSyncUpdate=function(t,n,r){var o;o=z.FindAll(r),S.SyncElemNode(t,n.Top),n.PreviousNodes=o},S.CreateElemNode=function(t,n,r){var o;return S.LinkElement(t,r),o=G.Insert(t,n),He.New(o,r,null,t,$e.Int(),k.GetOptional(o.OnAfterRender))},S.InsertNode=function(t,n,r){return K.InsertAt(t,r,n),n},S.SyncElemNodesNextFrame=function(t,n){function r(o){d.requestAnimationFrame(function(){S.SyncElemNode(t,n.Top),o()})}return Xe.BatchUpdatesEnabled()?F.FromContinuations(function(o,i,u){return r.apply(null,[o,i,u])}):(S.SyncElemNode(t,n.Top),F.Return(null))},S.ComputeExitAnim=function(t,n){return te.Concat(f.map(function(r){return G.GetExitAnim(r.Attr)},z.ToArray(z.Except(n,z.Filter(function(r){return G.HasExitAnim(r.Attr)},t.PreviousNodes)))))},S.ComputeEnterAnim=function(t,n){return te.Concat(f.map(function(r){return G.GetEnterAnim(r.Attr)},z.ToArray(z.Except(t.PreviousNodes,z.Filter(function(r){return G.HasEnterAnim(r.Attr)},n)))))},S.ComputeChangeAnim=function(t,n){var r;function o(i){return G.HasChangeAnim(i.Attr)}return r=function(i){return z.Filter(o,i)},te.Concat(f.map(function(i){return G.GetChangeAnim(i.Attr)},z.ToArray(z.Intersect(r(t.PreviousNodes),r(n)))))},S.SyncElemNode=function(t,n){t||S.SyncElement(n),S.Sync(n.Children),S.AfterRender(n)},S.SyncElement=function(t){function n(r){function o(i){for(var u,a,h,$;;)if(i!=null&&i.$==0){if(a=i.$1,h=i.$0,o(h))return!0;i=a}else if(i!=null&&i.$==2){if($=i.$0,$.Dirty)return!0;i=$.Current}else return i!=null&&i.$==6&&(u=i.$0,u.Dirty||f.exists(n,u.Holes))}return o(r.Children)}G.Sync(t.El,t.Attr),n(t)&&S.DoSyncElement(t)},S.Sync=function(t){for(var n,r,o,i,u;;){if(t!=null&&t.$==1)return S.SyncElemNode(!1,t.$0);if(t!=null&&t.$==2)o=t.$0,t=o.Current;else{if(t==null)return null;if(t!=null&&t.$==5)return null;if(t!=null&&t.$==4)return n=t.$0,n.Dirty?(n.Text.nodeValue=n.Value,n.Dirty=!1):null;if(t!=null&&t.$==6)return r=t.$0,f.iter(function(a){S.SyncElemNode(!1,a)},r.Holes),f.iter(function(a){G.Sync(a[0],a[1])},r.Attrs),S.AfterRender(r);i=t.$1,u=t.$0,S.Sync(u),t=i}}},S.AfterRender=function(t){var n;n=k.GetOptional(t.Render),n!=null&&n.$==1&&(n.$0(t.El),k.SetOptional(t,"Render",null))},S.DoSyncElement=function(t){var n,r,o;function i(u,a){for(var h,$,L,O;;){if(u!=null&&u.$==1)return u.$0.El;if(u!=null&&u.$==2){if($=u.$0,$.Dirty)return $.Dirty=!1,S.InsertDoc(n,$.Current,a);u=$.Current}else{if(u==null)return a;if(u!=null&&u.$==4)return u.$0.Text;if(u!=null&&u.$==5)return u.$0;if(u!=null&&u.$==6)return h=u.$0,h.Dirty&&(h.Dirty=!1),f.foldBack(function(Y,I){return Y==null||Y.constructor===Re?i(Y,I):Y},h.Els,a);L=u.$1,O=u.$0,u=O,a=i(L,a)}}}n=t.El,we.Iter((r=t.El,function(u){K.RemoveNode(r,u)}),we.Except(we.DocChildren(t),we.Children(t.El,k.GetOptional(t.Delimiters)))),i(t.Children,(o=k.GetOptional(t.Delimiters),o!=null&&o.$==1?o.$0[1]:null))},Ve=p.Var$1=k.Class({},C,Ve),Ve.Create$1=function(t){return new Ue.New(!1,T.New({$:2,$0:t,$1:[]}),t)},re.ofArray=function(t){var n,r,o;for(n=me.Empty,r=f.length(t)-1,o=0;r>=o;r--)n=new me({$:1,$0:f.get(t,r),$1:n});return n},re.head=function(t){return t.$==1?t.$0:re.listEmpty()},re.tail=function(t){return t.$==1?t.$1:re.listEmpty()},re.listEmpty=function(){return y.FailWith("The input list was empty.")},G.Static=function(t){return new se({$:3,$0:t})},G.Updates=function(t){return le.MapTreeReduce(function(n){return n.NChanged()},_.Const(),_.Map2Unit,t.DynNodes)},G.AppendTree=function(t,n){var r;return t===null?n:n===null?t:(r=new se({$:2,$0:t,$1:n}),G.SetFlags(r,G.Flags(t)|G.Flags(n)),r)},G.EmptyAttr=function(){return A.$cctor(),A.EmptyAttr},G.Insert=function(t,n){var r,o,i;function u(a){for(var h,$;;)if(a!==null){if(a!=null&&a.$==1)return r.push(a.$0);if(a!=null&&a.$==2)h=a.$1,$=a.$0,u($),a=h;else return a!=null&&a.$==3?a.$0(t):a!=null&&a.$==4?o.push(a.$0):null}else return null}return r=[],o=[],u(n),i=r.slice(0),lt.New(t,G.Flags(n),i,o.length===0?null:{$:1,$0:function(a){q.iter(function(h){h(a)},o)}})},G.SetFlags=function(t,n){t.flags=n},G.Flags=function(t){return t!==null&&t.hasOwnProperty("flags")?t.flags:0},G.HasExitAnim=function(t){var n;return n=2,(t.DynFlags&n)===n},G.GetExitAnim=function(t){return G.GetAnim(t,function(n,r){return n.NGetExitAnim(r)})},G.HasEnterAnim=function(t){var n;return n=1,(t.DynFlags&n)===n},G.GetEnterAnim=function(t){return G.GetAnim(t,function(n,r){return n.NGetEnterAnim(r)})},G.HasChangeAnim=function(t){var n;return n=4,(t.DynFlags&n)===n},G.GetChangeAnim=function(t){return G.GetAnim(t,function(n,r){return n.NGetChangeAnim(r)})},G.GetAnim=function(t,n){return te.Concat(f.map(function(r){return n(r,t.DynElem)},t.DynNodes))},G.Sync=function(t,n){f.iter(function(r){r.NSync(t)},n.DynNodes)},ot.GetFieldValues=function(t){var n;n=[];for(var r in t)n.push(t[r]);return n},ae=oe.Dictionary=k.Class({set_Item:function(t,n){this.set(t,n)},ContainsKey:function(t){var n,r;return n=this,r=this.data[this.hash(t)],r==null?!1:f.exists(function(o){return n.equals.apply(null,[y.KeyValue(o)[0],t])},r)},TryGetValue:function(t,n){var r,o,i;return r=this,o=this.data[this.hash(t)],o==null?!1:(i=f.tryPick(function(u){var a;return a=y.KeyValue(u),r.equals.apply(null,[a[0],t])?{$:1,$0:a[1]}:null},o),i!=null&&i.$==1&&(n.set(i.$0),!0))},RemoveKey:function(t){return this.remove(t)},Keys:function(){return new Oe.New(this)},set:function(t,n){var r,o,i,u;r=this,o=this.hash(t),i=this.data[o],i==null?(this.count=this.count+1,this.data[o]=new d.Array({K:t,V:n})):(u=f.tryFindIndex(function(a){return r.equals.apply(null,[y.KeyValue(a)[0],t])},i),u==null?(this.count=this.count+1,i.push({K:t,V:n})):i[u.$0]={K:t,V:n})},remove:function(t){var n,r,o,i;return n=this,r=this.hash(t),o=this.data[r],o==null?!1:(i=f.filter(function(u){return!n.equals.apply(null,[y.KeyValue(u)[0],t])},o),f.length(i)<o.length&&(this.count=this.count-1,this.data[r]=i,!0))},Item:function(t){return this.get(t)},get:function(t){var n,r;return n=this,r=this.data[this.hash(t)],r==null?it.notPresent():f.pick(function(o){var i;return i=y.KeyValue(o),n.equals.apply(null,[i[0],t])?{$:1,$0:i[1]}:null},r)},GetEnumerator:function(){return H.Get0(f.concat(ot.GetFieldValues(this.data)))}},C,ae),ae.New$5=k.Ctor(function(){ae.New$6.call(this,[],g.Equals,g.Hash)},ae),ae.New$6=k.Ctor(function(t,n,r){var o,i;C.New.call(this),this.equals=n,this.hash=r,this.count=0,this.data=[],o=H.Get(t);try{for(;o.MoveNext();)i=o.Current(),this.set(i.K,i.V)}finally{typeof o=="object"&&"Dispose"in o&&o.Dispose()}},ae),g.Equals=function(t,n){var r,o;if(t===n)return!0;if(r=typeof t,r=="object"){if(t==null||n===null||n===void 0||!g.Equals(typeof n,"object"))return!1;if("Equals"in t)return t.Equals(n);if("Equals"in n)return!1;if(t instanceof d.Array&&n instanceof d.Array)return g.arrayEquals(t,n);if(t instanceof d.Date&&n instanceof d.Date)return g.dateEquals(t,n);o=[!0];for(var i in t)if(function(a){return o[0]=!t.hasOwnProperty(a)||n.hasOwnProperty(a)&&g.Equals(t[a],n[a]),!o[0]}(i))break;if(o[0]){for(var u in n)if(function(a){return o[0]=!n.hasOwnProperty(a)||t.hasOwnProperty(a),!o[0]}(u))break}return o[0]}else return r=="function"&&("$Func"in t?t.$Func===n.$Func&&t.$Target===n.$Target:"$Invokes"in t&&"$Invokes"in n&&g.arrayEquals(t.$Invokes,n.$Invokes))},g.arrayEquals=function(t,n){var r,o;if(f.length(t)===f.length(n)){for(r=!0,o=0;r&&o<f.length(t);)g.Equals(f.get(t,o),f.get(n,o))||(r=!1),o=o+1;return r}else return!1},g.dateEquals=function(t,n){return t.getTime()===n.getTime()},g.Hash=function(t){var n;return n=typeof t,n=="function"?0:n=="boolean"?t?1:0:n=="number"?t:n=="string"?g.hashString(t):n=="object"?t==null?0:t instanceof d.Array?g.hashArray(t):g.hashObject(t):0},g.hashString=function(t){var n,r,o;if(t===null)return 0;for(n=5381,r=0,o=t.length-1;r<=o;r++)n=g.hashMix(n,t[r].charCodeAt());return n},g.hashArray=function(t){var n,r,o;for(n=-34948909,r=0,o=f.length(t)-1;r<=o;r++)n=g.hashMix(n,g.Hash(f.get(t,r)));return n},g.hashObject=function(t){var n;if("GetHashCode"in t)return t.GetHashCode();n=[0];for(var r in t)(function(o){return n[0]=g.hashMix(g.hashMix(n[0],g.hashString(o)),g.Hash(t[o])),!1})(r);return n[0]},g.hashMix=function(t,n){return(t<<5)+t+n},g.Compare=function(t,n){var r,o,i;if(t===n)return 0;switch(r=typeof t,r=="function"?1:r=="boolean"||r=="number"||r=="string"?2:r=="object"?3:0){case 0:return typeof n>"u"?0:-1;case 1:return y.FailWith("Cannot compare function values.");case 2:return t<n?-1:1;case 3:if(t===null)o=-1;else if(n===null)o=1;else if("CompareTo"in t)o=t.CompareTo(n);else if("CompareTo0"in t)o=t.CompareTo0(n);else if(t instanceof d.Array&&n instanceof d.Array)o=g.compareArrays(t,n);else if(t instanceof d.Date&&n instanceof d.Date)o=g.compareDates(t,n);else{i=[0];for(var u in t)if(function(h){return t.hasOwnProperty(h)?n.hasOwnProperty(h)?(i[0]=g.Compare(t[h],n[h]),i[0]!==0):(i[0]=1,!0):!1}(u))break;if(i[0]===0){for(var a in n)if(function(h){return n.hasOwnProperty(h)?!t.hasOwnProperty(h)&&(i[0]=-1,!0):!1}(a))break}o=i[0]}return o}},g.compareArrays=function(t,n){var r,o;if(f.length(t)<f.length(n))return-1;if(f.length(t)>f.length(n))return 1;for(r=0,o=0;r===0&&o<f.length(t);)r=g.Compare(f.get(t,o),f.get(n,o)),o=o+1;return r},g.compareDates=function(t,n){return g.Compare(t.getTime(),n.getTime())},_=p.View=k.Class({},null,_),T.Map=function(t,n){var r,o;return r=n.s,r!=null&&r.$==0?T.New({$:0,$0:t(r.$0)}):(o=T.New({$:3,$0:[],$1:[]}),T.When(n,function(i){T.MarkDone(o,n,t(i))},o),o)},T.WhenObsoleteRun=function(t,n){var r;r=t.s,r==null?n():(r!=null&&r.$==2||r!=null&&r.$==3)&&r.$1.push(n)},T.When=function(t,n,r){var o;o=t.s,o==null?T.Obsolete(r):o!=null&&o.$==2?(T.EnqueueSafe(o.$1,r),n(o.$0)):o!=null&&o.$==3?(o.$0.push(n),T.EnqueueSafe(o.$1,r)):n(o.$0)},T.MarkDone=function(t,n,r){var o;o=n.s,o!=null&&o.$==0?T.MarkForever(t,r):T.MarkReady(t,r)},T.EnqueueSafe=function(t,n){var r,o,i,u;if(t.push(n),t.length%20===0)for(r=t.slice(0),ct.Clear(t),o=0,i=f.length(r)-1;o<=i;o++)u=f.get(r,o),typeof u=="object"?function(a){a.s&&t.push(a)}(u):function(a){t.push(a)}(u)},T.MarkForever=function(t,n){var r,o,i,u;if(r=t.s,r!=null&&r.$==3)for(t.s={$:0,$0:n},o=r.$0,i=0,u=f.length(o)-1;i<=u;i++)f.get(o,i)(n)},T.MarkReady=function(t,n){var r,o,i,u;if(r=t.s,r!=null&&r.$==3)for(t.s={$:2,$0:n,$1:r.$1},o=r.$0,i=0,u=f.length(o)-1;i<=u;i++)f.get(o,i)(n)},T.WhenRun=function(t,n,r){var o;o=t.s,o==null?r():o!=null&&o.$==2?(o.$1.push(r),n(o.$0)):o!=null&&o.$==3?(o.$0.push(n),o.$1.push(r)):n(o.$0)},T.Copy=function(t){var n,r,o;return n=t.s,n==null?t:n!=null&&n.$==2?(r=T.New({$:2,$0:n.$0,$1:[]}),T.WhenObsolete(t,r),r):n!=null&&n.$==3?(o=T.New({$:3,$0:[],$1:[]}),T.When(t,function(i){T.MarkDone(o,t,i)},o),o):t},T.Map2Unit=function(t,n){var r,o,i;function u(){var a,h,$;a=i.s,!(a!=null&&a.$==0||a!=null&&a.$==2)&&(h=T.ValueAndForever(t),$=T.ValueAndForever(n),h!=null&&h.$==1&&$!=null&&$.$==1&&(h.$0[1]&&$.$0[1]?T.MarkForever(i,null):T.MarkReady(i,null)))}return r=t.s,o=n.s,r!=null&&r.$==0?o!=null&&o.$==0?T.New({$:0,$0:null}):n:o!=null&&o.$==0?t:(i=T.New({$:3,$0:[],$1:[]}),T.When(t,u,i),T.When(n,u,i),i)},T.WhenObsolete=function(t,n){var r;r=t.s,r==null?T.Obsolete(n):(r!=null&&r.$==2||r!=null&&r.$==3)&&T.EnqueueSafe(r.$1,n)},T.ValueAndForever=function(t){var n;return n=t.s,n!=null&&n.$==0?{$:1,$0:[n.$0,!0]}:n!=null&&n.$==2?{$:1,$0:[n.$0,!1]}:null},Ue=p.ConcreteVar=k.Class({get_View:function(){return this.view},Set:function(t){this.isConst?function(n){return n("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal")}(function(n){ve.log(n)}):(T.Obsolete(this.snap),this.current=t,this.snap=T.New({$:2,$0:t,$1:[]}))},Get:function(){return this.current},UpdateMaybe:function(t){var n;n=t(this.Get()),n!=null&&n.$==1&&this.Set(n.$0)}},J,Ue),Ue.New=k.Ctor(function(t,n,r){var o;o=this,J.New.call(this),this.isConst=t,this.current=r,this.snap=n,this.view=function(){return o.snap},this.id=$e.Int()},Ue),f.get=function(t,n){return f.checkBounds(t,n),t[n]},f.length=function(t){return t.dims===2?t.length*t.length:t.length},f.checkBounds=function(t,n){(n<0||n>=t.length)&&y.FailWith("Index was outside the bounds of the array.")},f.set=function(t,n,r){f.checkBounds(t,n),t[n]=r},q.head=function(t){var n;n=H.Get(t);try{return n.MoveNext()?n.Current():q.insufficient()}finally{typeof n=="object"&&"Dispose"in n&&n.Dispose()}},q.nth=function(t,n){var r,o;t<0&&y.FailWith("negative index requested"),r=-1,o=H.Get(n);try{for(;r<t;)o.MoveNext()||q.insufficient(),r=r+1;return o.Current()}finally{typeof o=="object"&&"Dispose"in o&&o.Dispose()}},q.fold=function(t,n,r){var o,i;o=n,i=H.Get(r);try{for(;i.MoveNext();)o=t(o,i.Current());return o}finally{typeof i=="object"&&"Dispose"in i&&i.Dispose()}},q.iter=function(t,n){var r;r=H.Get(n);try{for(;r.MoveNext();)t(r.Current())}finally{typeof r=="object"&&"Dispose"in r&&r.Dispose()}},q.delay=function(t){return{GetEnumerator:function(){return H.Get(t())}}},q.map=function(t,n){return{GetEnumerator:function(){var r;return r=H.Get(n),new fe.New(null,null,function(o){return r.MoveNext()&&(o.c=t(r.Current()),!0)},function(){r.Dispose()})}}},q.init=function(t,n){return q.take(t,q.initInfinite(n))},q.max=function(t){var n,r,o;n=H.Get(t);try{for(n.MoveNext()||q.seqEmpty(),r=n.Current();n.MoveNext();)o=n.Current(),g.Compare(o,r)===1&&(r=o);return r}finally{typeof n=="object"&&"Dispose"in n&&n.Dispose()}},q.forall=function(t,n){return!q.exists(function(r){return!t(r)},n)},q.take=function(t,n){return t<0&&q.nonNegative(),{GetEnumerator:function(){var r;return r=[H.Get(n)],new fe.New(0,null,function(o){var i;return o.s=o.s+1,o.s>t?!1:(i=r[0],g.Equals(i,null)?q.insufficient():i.MoveNext()?(o.c=i.Current(),o.s===t&&(i.Dispose(),r[0]=null),!0):(i.Dispose(),r[0]=null,q.insufficient()))},function(){var o;o=r[0],g.Equals(o,null)||o.Dispose()})}}},q.initInfinite=function(t){return{GetEnumerator:function(){return new fe.New(0,null,function(n){return n.c=t(n.s),n.s=n.s+1,!0},void 0)}}},q.seqEmpty=function(){return y.FailWith("The input sequence was empty.")},q.exists=function(t,n){var r,o;r=H.Get(n);try{for(o=!1;!o&&r.MoveNext();)o=t(r.Current());return o}finally{typeof r=="object"&&"Dispose"in r&&r.Dispose()}},ee.$cctor=function(){ee.$cctor=d.ignore,ee.LoadedTemplates=new ae.New$5,ee.LocalTemplatesLoaded=!1,ee.GlobalHoles=new ae.New$5,ee.TextHoleRE="\\${([^}]+)}",ee.RenderedFullDocTemplate=null},j=oe.HashSet=k.Class({SAdd:function(t){return this.add(t)},Contains:function(t){var n;return n=this.data[this.hash(t)],n==null?!1:this.arrContains(t,n)},add:function(t){var n,r;return n=this.hash(t),r=this.data[n],r==null?(this.data[n]=[t],this.count=this.count+1,!0):this.arrContains(t,r)?!1:(r.push(t),this.count=this.count+1,!0)},arrContains:function(t,n){var r,o,i;for(r=!0,o=0,i=n.length;r&&o<i;)this.equals.apply(null,[n[o],t])?r=!1:o=o+1;return!r},GetEnumerator:function(){return H.Get(Be.concat(this.data))},ExceptWith:function(t){var n;n=H.Get(t);try{for(;n.MoveNext();)this.Remove(n.Current())}finally{typeof n=="object"&&"Dispose"in n&&n.Dispose()}},Count:function(){return this.count},IntersectWith:function(t){var n,r,o,i,u;for(n=new j.New$4(t,this.equals,this.hash),r=Be.concat(this.data),o=0,i=r.length-1;o<=i;o++)u=r[o],n.Contains(u)||this.Remove(u)},Remove:function(t){var n;return n=this.data[this.hash(t)],n==null?!1:this.arrRemove(t,n)&&(this.count=this.count-1,!0)},CopyTo:function(t,n){var r,o,i;for(r=Be.concat(this.data),o=0,i=r.length-1;o<=i;o++)f.set(t,o+n,r[o])},arrRemove:function(t,n){var r,o,i;for(r=!0,o=0,i=n.length;r&&o<i;)this.equals.apply(null,[n[o],t])?(n.splice.apply(n,[o,1]),r=!1):o=o+1;return!r}},C,j),j.New$3=k.Ctor(function(){j.New$4.call(this,[],g.Equals,g.Hash)},j),j.New$4=k.Ctor(function(t,n,r){var o;C.New.call(this),this.equals=n,this.hash=r,this.data=[],this.count=0,o=H.Get(t);try{for(;o.MoveNext();)this.add(o.Current())}finally{typeof o=="object"&&"Dispose"in o&&o.Dispose()}},j),j.New$2=k.Ctor(function(t){j.New$4.call(this,t,g.Equals,g.Hash)},j),Ne=p.Elt=k.Class({},E,Ne),Ne.New=function(t,n,r){var o,i;return o=S.CreateElemNode(t,n,r.docNode),i=ke.Create(r.updates),new Ne.New$1({$:1,$0:o},_.Map2Unit(G.Updates(o.Attr),i.v),t,i)},Ne.New$1=k.Ctor(function(t,n,r,o){E.New.call(this,t,n),this.docNode$1=t,this.updates$1=n,this.elt=r,this.rvUpdates=o},Ne),le.ofSeqNonCopying=function(t){var n,r;if(t instanceof d.Array)return t;if(t instanceof me)return f.ofList(t);if(t===null)return[];n=[],r=H.Get(t);try{for(;r.MoveNext();)n.push(r.Current());return n}finally{typeof r=="object"&&"Dispose"in r&&r.Dispose()}},le.TreeReduce=function(t,n,r){var o;function i(u){return function(a){var h;switch(a<=0?0:a===1&&u>=0&&u<o?1:2){case 0:return t;case 1:return f.get(r,u);case 2:return h=a/2>>0,n(i(u)(h),i(u+h)(a-h))}}}return o=f.length(r),i(0)(o)},le.MapTreeReduce=function(t,n,r,o){var i;function u(a){return function(h){var $;switch(h<=0?0:h===1&&a>=0&&a<i?1:2){case 0:return n;case 1:return t(f.get(o,a));case 2:return $=h/2>>0,r(u(a)($),u(a+$)(h-$))}}}return i=f.length(o),u(0)(i)},He=p.DocElemNode=k.Class({Equals:function(t){return this.ElKey===t.ElKey},GetHashCode:function(){return this.ElKey}},null,He),He.New=function(t,n,r,o,i,u){var a;return new He((a={Attr:t,Children:n,El:o,ElKey:i},k.SetOptional(a,"Delimiters",r),k.SetOptional(a,"Render",u),a))},T.Obsolete=function(t){var n,r,o,i,u;if(r=t.s,!(r==null||(!(r!=null&&r.$==2||r!=null&&r.$==3)||(n=r.$1,!1))))for(t.s=null,o=0,i=f.length(n)-1;o<=i;o++)u=f.get(n,o),typeof u=="object"?function(a){T.Obsolete(a)}(u):u()},T.New=function(t){return{s:t}},$e.Int=function(){return $e.set_counter($e.counter()+1),$e.counter()},$e.set_counter=function(t){Te.$cctor(),Te.counter=t},$e.counter=function(){return Te.$cctor(),Te.counter},it.notPresent=function(){throw new pe.New},f.exists=function(t,n){var r,o,i;for(r=!1,o=0,i=f.length(n);!r&&o<i;)t(n[o])?r=!0:o=o+1;return r},f.tryPick=function(t,n){var r,o,i;for(r=null,o=0;o<n.length&&r==null;)i=t(n[o]),i!=null&&i.$==1&&(r=i),o=o+1;return r},f.tryFindIndex=function(t,n){var r,o;for(r=null,o=0;o<n.length&&r==null;)t(n[o])&&(r={$:1,$0:o}),o=o+1;return r},f.ofList=function(t){var n,r;for(r=[],n=t;n.$!=0;)r.push(re.head(n)),n=re.tail(n);return r},f.filter=function(t,n){var r,o,i;for(r=[],o=0,i=n.length-1;o<=i;o++)t(n[o])&&r.push(n[o]);return r},f.map=function(t,n){var r,o,i;for(r=new d.Array(n.length),o=0,i=n.length-1;o<=i;o++)r[o]=t(n[o]);return r},f.iter=function(t,n){var r,o;for(r=0,o=n.length-1;r<=o;r++)t(n[r])},f.foldBack=function(t,n,r){var o,i,u,a;for(o=r,i=n.length,u=1,a=i;u<=a;u++)o=t(n[i-u],o);return o},f.pick=function(t,n){var r;return r=f.tryPick(t,n),r==null?y.FailWith("KeyNotFoundException"):r.$0},f.ofSeq=function(t){var n,r;if(t instanceof d.Array)return t.slice();if(t instanceof me)return f.ofList(t);n=[],r=H.Get(t);try{for(;r.MoveNext();)n.push(r.Current());return n}finally{typeof r=="object"&&"Dispose"in r&&r.Dispose()}},f.choose=function(t,n){var r,o,i,u;for(r=[],o=0,i=n.length-1;o<=i;o++)u=t(n[o]),u==null||r.push(u.$0);return r},f.concat=function(t){return d.Array.prototype.concat.apply([],f.ofSeq(t))},f.create=function(t,n){var r,o,i;for(r=new d.Array(t),o=0,i=t-1;o<=i;o++)r[o]=n;return r},f.init=function(t,n){var r,o,i;for(t<0&&y.FailWith("Negative size given."),r=new d.Array(t),o=0,i=t-1;o<=i;o++)r[o]=n(o);return r},f.forall=function(t,n){var r,o,i;for(r=!0,o=0,i=f.length(n);r&&o<i;)t(n[o])?o=o+1:r=!1;return r},B.convertTextNode=function(t){var n,r,o,i,u;for(n=null,r=0,o=t.textContent,i=new d.RegExp(N.TextHoleRE(),"g");n=i.exec(o),n!==null;)t.parentNode.insertBefore(self.document.createTextNode(Se.string(o,{$:1,$0:r},{$:1,$0:i.lastIndex-f.get(n,0).length-1})),t),r=i.lastIndex,u=self.document.createElement("span"),u.setAttribute("ws-replace",f.get(n,1).toLowerCase()),t.parentNode.insertBefore(u,t);i.lastIndex=0,t.textContent=Se.string(o,{$:1,$0:r},null)},B.failNotLoaded=function(t){ve.warn("Instantiating non-loaded template",t)},B.fillTextHole=function(t,n,r){var o;return o=t.querySelector("[ws-replace]"),g.Equals(o,null)?(ve.warn("Filling non-existent text hole",r),null):(o.parentNode.replaceChild(self.document.createTextNode(n),o),{$:1,$0:o.getAttribute("ws-replace")})},B.removeHolesExcept=function(t,n){function r(o){N.foreachNotPreserved(t,"["+o+"]",function(i){n.Contains(i.getAttribute(o))||i.removeAttribute(o)})}r("ws-attr"),r("ws-onafterrender"),r("ws-var"),N.foreachNotPreserved(t,"[ws-hole]",function(o){if(!n.Contains(o.getAttribute("ws-hole")))for(o.removeAttribute("ws-hole");o.hasChildNodes();)o.removeChild(o.lastChild)}),N.foreachNotPreserved(t,"[ws-replace]",function(o){n.Contains(o.getAttribute("ws-replace"))||o.parentNode.removeChild(o)}),N.foreachNotPreserved(t,"[ws-on]",function(o){o.setAttribute("ws-on",R.concat(" ",f.filter(function(i){return n.Contains(f.get(R.SplitChars(i,[":"],1),1))},R.SplitChars(o.getAttribute("ws-on"),[" "],1))))}),N.foreachNotPreserved(t,"[ws-attr-holes]",function(o){var i,u,a,h,$;for(i=R.SplitChars(o.getAttribute("ws-attr-holes"),[" "],1),u=0,a=i.length-1;u<=a;u++)h=f.get(i,u),o.setAttribute(h,($=new d.RegExp(N.TextHoleRE(),"g"),o.getAttribute(h).replace($,function(L,O){return n.Contains(O)?L:""})))})},B.fillInstanceAttrs=function(t,n){var r,o,i,u,a;if(B.convertAttrs(n),r=n.nodeName.toLowerCase(),o=t.querySelector("[ws-attr="+r+"]"),g.Equals(o,null))ve.warn("Filling non-existent attr hole",r);else for(o.removeAttribute("ws-attr"),i=0,u=n.attributes.length-1;i<=u;i++)a=n.attributes.item(i),a.name=="class"&&o.hasAttribute("class")?o.setAttribute("class",o.getAttribute("class")+" "+a.nodeValue):o.setAttribute(a.name,a.nodeValue)},B.mapHoles=function(t,n){function r(o){N.foreachNotPreserved(t,"["+o+"]",function(i){var u,a;u=(a=null,[n.TryGetValue(i.getAttribute(o).toLowerCase(),{get:function(){return a},set:function(h){a=h}}),a]),u[0]&&i.setAttribute(o,u[1])})}r("ws-hole"),r("ws-replace"),r("ws-attr"),r("ws-onafterrender"),r("ws-var"),N.foreachNotPreserved(t,"[ws-on]",function(o){o.setAttribute("ws-on",R.concat(" ",f.map(function(i){var u,a,h;return u=R.SplitChars(i,[":"],1),a=(h=null,[n.TryGetValue(f.get(u,1),{get:function(){return h},set:function($){h=$}}),h]),a[0]?f.get(u,0)+":"+a[1]:i},R.SplitChars(o.getAttribute("ws-on"),[" "],1))))}),N.foreachNotPreserved(t,"[ws-attr-holes]",function(o){var i,u,a;for(i=R.SplitChars(o.getAttribute("ws-attr-holes"),[" "],1),u=0,a=i.length-1;u<=a;u++)(function(){var h;function $(L,O){var Y;return Y=y.KeyValue(O),L.replace(new d.RegExp("\\${"+Y[0]+"}","ig"),"${"+Y[1]+"}")}return h=f.get(i,u),o.setAttribute(h,k.Curried3(q.fold)($)(o.getAttribute(h))(n))})()})},B.fill=function(t,n,r){for(;;)if(t.hasChildNodes())r=n.insertBefore(t.lastChild,r);else return null},B.convertAttrs=function(t){var n,r,o,i,u,a,h,$;function L(O){var Y;Y=t.getAttribute(O),Y==null||t.setAttribute(O,Y.toLowerCase())}for(n=t.attributes,r=[],o=[],i=[],u=0,a=n.length-1;u<=a;u++)h=n.item(u),R.StartsWith(h.nodeName,"ws-on")&&h.nodeName!="ws-onafterrender"&&h.nodeName!="ws-on"?(r.push(h.nodeName),o.push(Se.string(h.nodeName,{$:1,$0:5},null)+":"+h.nodeValue.toLowerCase())):!R.StartsWith(h.nodeName,"ws-")&&new d.RegExp(N.TextHoleRE()).test(h.nodeValue)&&(h.nodeValue=($=new d.RegExp(N.TextHoleRE(),"g"),h.nodeValue.replace($,function(O,Y){return"${"+Y.toLowerCase()+"}"})),i.push(h.nodeName));o.length!=0&&t.setAttribute("ws-on",R.concat(" ",o)),i.length!=0&&t.setAttribute("ws-attr-holes",R.concat(" ",i)),L("ws-hole"),L("ws-replace"),L("ws-attr"),L("ws-onafterrender"),L("ws-var"),f.iter(function(O){t.removeAttribute(O)},r)},Se.string=function(t,n,r){var o,i;return n==null?r!=null&&r.$==1?(o=r.$0,o<0?"":t.slice(0,o+1)):"":r==null?t.slice(n.$0):(i=r.$0,i<0?"":t.slice(n.$0,i+1))},H.Get=function(t){return t instanceof d.Array?H.ArrayEnumerator(t):g.Equals(typeof t,"string")?H.StringEnumerator(t):t.GetEnumerator()},H.ArrayEnumerator=function(t){return new fe.New(0,null,function(n){var r;return r=n.s,r<f.length(t)&&(n.c=f.get(t,r),n.s=r+1,!0)},void 0)},H.StringEnumerator=function(t){return new fe.New(0,null,function(n){var r;return r=n.s,r<t.length&&(n.c=t[r],n.s=r+1,!0)},void 0)},H.Get0=function(t){return t instanceof d.Array?H.ArrayEnumerator(t):g.Equals(typeof t,"string")?H.StringEnumerator(t):"GetEnumerator0"in t?t.GetEnumerator0():t.GetEnumerator()},q.insufficient=function(){return y.FailWith("The input sequence has an insufficient number of elements.")},q.nonNegative=function(){return y.FailWith("The input must be non-negative.")},Oe=oe.KeyCollection=k.Class({GetEnumerator:function(){return H.Get(q.map(function(t){return t.K},this.d))}},C,Oe),Oe.New=k.Ctor(function(t){C.New.call(this),this.d=t},Oe),je.TryParseInt32=function(t,n){return je.TryParse(t,-2147483648,2147483647,n)},te.get_UseAnimations=function(){return Z.UseAnimations()},te.Play=function(t){return F.Delay(function(){return F.Bind(te.Run(d.ignore,Z.Actions(t)),function(){return Z.Finalize(t),F.Return(null)})})},te.Append=function(t,n){return{$:0,$0:he.Append(t.$0,n.$0)}},te.Run=function(t,n){var r;function o(i){function u(a){return function(h){var $;return $=h-a,n.Compute($),t(),$<=r?void d.requestAnimationFrame(function(L){u(a)(L)}):i()}}d.requestAnimationFrame(function(a){u(a)(a)})}return r=n.Duration,r===0?F.Zero():F.FromContinuations(function(i,u,a){return o.apply(null,[i,u,a])})},te.Concat=function(t){return{$:0,$0:he.Concat(q.map(Z.List,t))}},Xe.BatchUpdatesEnabled=function(){return We.$cctor(),We.BatchUpdatesEnabled},ut.StartProcessor=function(t){var n;function r(){return F.Delay(function(){return F.Bind(t,function(){var o;return o=n[0],g.Equals(o,1)?(n[0]=0,F.Zero()):g.Equals(o,2)?(n[0]=1,r()):F.Zero()})})}return n=[0],function(){var o;o=n[0],g.Equals(o,0)?(n[0]=1,F.Start(r(),null)):g.Equals(o,1)&&(n[0]=2)}},ke=p.Updates=k.Class({},null,ke),ke.Create=function(t){var n;return n=null,n=ke.New(t,null,function(){var r;return r=n.s,r===null&&(r=T.Copy(n.c()),n.s=r,T.WhenObsoleteRun(r,function(){n.s=null})),r}),n},ke.New=function(t,n,r){return new ke({c:t,s:n,v:r})},lt.New=function(t,n,r,o){var i;return i={DynElem:t,DynFlags:n,DynNodes:r},k.SetOptional(i,"OnAfterRender",o),i},R.concat=function(t,n){return f.ofSeq(n).join(t)},R.SplitChars=function(t,n,r){return R.Split(t,new d.RegExp("["+R.RegexEscape(n.join(""))+"]"),r)},R.StartsWith=function(t,n){return t.substring(0,n.length)==n},R.Split=function(t,n,r){return r===1?f.filter(function(o){return o!==""},R.SplitWith(t,n)):R.SplitWith(t,n)},R.RegexEscape=function(t){return t.replace(new d.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")},R.SplitWith=function(t,n){return t.split(n)},R.forall=function(t,n){return q.forall(t,R.protect(n))},R.protect=function(t){return t??""},st.New=function(t,n){return{PreviousNodes:t,Top:n}},z.get_Empty=function(){return{$:0,$0:new j.New$3}},z.FindAll=function(t){var n;function r(u,a){for(var h,$,L,O,Y;;)switch(u){case 0:if(a!=null&&a.$==0)$=a.$1,L=a.$0,r(0,L),a=$;else if(a!=null&&a.$==1)O=a.$0,a=O,u=1;else if(a!=null&&a.$==2)Y=a.$0,a=Y.Current;else return a!=null&&a.$==6?(h=a.$0.Holes,function(I){return function(b){f.iter(I,b)}}(i)(h)):null;break;case 1:n.push(a),a=a.Children,u=0;break}}function o(u){return r(0,u)}function i(u){return r(1,u)}return n=[],o(t),{$:0,$0:new j.New$2(n)}},z.Filter=function(t,n){return{$:0,$0:ue.Filter(t,n.$0)}},z.Except=function(t,n){return{$:0,$0:ue.Except(t.$0,n.$0)}},z.ToArray=function(t){return ue.ToArray(t.$0)},z.Intersect=function(t,n){return{$:0,$0:ue.Intersect(t.$0,n.$0)}},F.Delay=function(t){return function(n){try{t(null)(n)}catch(r){n.k({$:1,$0:r})}}},F.Bind=function(t,n){return F.checkCancel(function(r){t(Je.New(function(o){var i;o.$==0?(i=o.$0,F.scheduler().Fork(function(){try{n(i)(r)}catch(u){r.k({$:1,$0:u})}})):F.scheduler().Fork(function(){r.k(o)})},r.ct))})},F.Zero=function(){return ie.$cctor(),ie.Zero},F.Start=function(t,n){var r,o;r=(o=F.defCTS()[0],n==null?o:n.$0),F.scheduler().Fork(function(){r.c||t(Je.New(function(i){i.$==1&&F.UncaughtAsyncError(i.$0)},r))})},F.Return=function(t){return function(n){n.k({$:0,$0:t})}},F.scheduler=function(){return ie.$cctor(),ie.scheduler},F.checkCancel=function(t){return function(n){n.ct.c?F.cancel(n):t(n)}},F.defCTS=function(){return ie.$cctor(),ie.defCTS},F.UncaughtAsyncError=function(t){ve.log("WebSharper: Uncaught asynchronous exception",t)},F.FromContinuations=function(t){return function(n){var r;function o(i){r[0]?y.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times"):(r[0]=!0,F.scheduler().Fork(i))}r=[!1],t(function(i){o(function(){n.k({$:0,$0:i})})},function(i){o(function(){n.k({$:1,$0:i})})},function(i){o(function(){n.k({$:2,$0:i})})})}},F.cancel=function(t){t.k({$:2,$0:new ye.New(t.ct)})},Z.UseAnimations=function(){return Ie.$cctor(),Ie.UseAnimations},Z.Actions=function(t){return Z.ConcatActions(f.choose(function(n){return n.$==1?{$:1,$0:n.$0}:null},he.ToArray(t.$0)))},Z.Finalize=function(t){f.iter(function(n){n.$==0&&n.$0()},he.ToArray(t.$0))},Z.ConcatActions=function(t){var n,r,o,i;return n=le.ofSeqNonCopying(t),r=f.length(n),r===0?Z.Const():r===1?f.get(n,0):(o=q.max(q.map(function(u){return u.Duration},n)),i=f.map(function(u){return Z.Prolong(o,u)},n),Z.Def(o,function(u){f.iter(function(a){a.Compute(u)},i)}))},Z.List=function(t){return t.$0},Z.Const=function(t){return Z.Def(0,function(){return t})},Z.Def=function(t,n){return{Compute:n,Duration:t}},Z.Prolong=function(t,n){var r,o,i;return r=n.Compute,o=n.Duration,i=qe.Create(function(){return n.Compute(n.Duration)}),{Compute:function(u){return u>=o?i.f():r(u)},Duration:t}},We.$cctor=function(){We.$cctor=d.ignore,We.BatchUpdatesEnabled=!0},A.$cctor=function(){var t,n,r,o,i,u,a,h,$,L,O,Y,I,b;A.$cctor=d.ignore,A.EmptyAttr=null,A.BoolCheckedApply=function(m){function w(v,U){return U!=null&&U.$==1?void(v.checked=U.$0):null}return[function(v){v.addEventListener("change",function(){return m.Get()!=v.checked?m.Set(v.checked):null})},function(v){return function(U){return w(v,U)}},_.Map(function(v){return{$:1,$0:v}},m.get_View())]},A.StringSet=function(m){return function(w){m.value=w}},A.StringGet=function(m){return{$:1,$0:m.value}},A.StringApply=(t=x.StringGet(),n=x.StringSet(),function(m){return x.ApplyValue(t,n,m)}),A.DateTimeSetUnchecked=function(m){return function(w){m.value=new d.Date(w).toLocaleString()}},A.DateTimeGetUnchecked=function(m){var w,v,U,W;return w=m.value,Ge.isBlank(w)?{$:1,$0:-864e13}:(v=(U=0,[(W=dt.TryParse(w),W!=null&&W.$==1&&(U=W.$0,!0)),U]),v[0]?{$:1,$0:v[1]}:null)},A.DateTimeApplyUnchecked=(r=x.DateTimeGetUnchecked(),o=x.DateTimeSetUnchecked(),function(m){return x.ApplyValue(r,o,m)}),A.FileSetUnchecked=function(){return function(){return null}},A.FileGetUnchecked=function(m){var w;return w=m.files,{$:1,$0:f.ofSeq(q.delay(function(){return q.map(function(v){return w.item(v)},y.range(0,w.length-1))}))}},A.FileApplyUnchecked=(i=x.FileGetUnchecked(),u=x.FileSetUnchecked(),function(m){return x.FileApplyValue(i,u,m)}),A.IntSetUnchecked=function(m){return function(w){m.value=d.String(w)}},A.IntGetUnchecked=function(m){var w,v;return w=m.value,Ge.isBlank(w)?{$:1,$0:0}:(v=+w,v!==v>>0?null:{$:1,$0:v})},A.IntApplyUnchecked=(a=x.IntGetUnchecked(),h=x.IntSetUnchecked(),function(m){return x.ApplyValue(a,h,m)}),A.IntSetChecked=function(m){return function(w){var v;return v=w.get_Input(),m.value!=v?void(m.value=v):null}},A.IntGetChecked=function(m){var w,v,U;return w=m.value,{$:1,$0:Ge.isBlank(w)?!m.checkValidity||m.checkValidity()?new de({$:2,$0:w}):new de({$:1,$0:w}):(v=(U=0,[je.TryParseInt32(w,{get:function(){return U},set:function(W){U=W}}),U]),v[0]?new de({$:0,$0:v[1],$1:w}):new de({$:1,$0:w}))}},A.IntApplyChecked=($=x.IntGetChecked(),L=x.IntSetChecked(),function(m){return x.ApplyValue($,L,m)}),A.FloatSetUnchecked=function(m){return function(w){m.value=d.String(w)}},A.FloatGetUnchecked=function(m){var w,v;return w=m.value,Ge.isBlank(w)?{$:1,$0:0}:(v=+w,d.isNaN(v)?null:{$:1,$0:v})},A.FloatApplyUnchecked=(O=x.FloatGetUnchecked(),Y=x.FloatSetUnchecked(),function(m){return x.ApplyValue(O,Y,m)}),A.FloatSetChecked=function(m){return function(w){var v;return v=w.get_Input(),m.value!=v?void(m.value=v):null}},A.FloatGetChecked=function(m){var w,v;return w=m.value,{$:1,$0:Ge.isBlank(w)?!m.checkValidity||m.checkValidity()?new de({$:2,$0:w}):new de({$:1,$0:w}):(v=+w,d.isNaN(v)?new de({$:1,$0:w}):new de({$:0,$0:v,$1:w}))}},A.FloatApplyChecked=(I=x.FloatGetChecked(),b=x.FloatSetChecked(),function(m){return x.ApplyValue(I,b,m)})},Te.$cctor=function(){Te.$cctor=d.ignore,Te.counter=0},X.$cctor=function(){var t;X.$cctor=d.ignore,X.rxhtmlTag=new d.RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),X.rtagName=new d.RegExp("<([\\w:]+)"),X.rhtml=new d.RegExp("<|&#?\\w+;"),X.wrapMap=(t=[1,"<table>","</table>"],{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:t,tbody:t,tfoot:t,tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><colgroup>","</colgoup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"]}),X.defaultWrap=[0,"",""]},fe=H.T=k.Class({MoveNext:function(){var t;return t=this.n(this),this.e=t?1:2,t},Current:function(){return this.e===1?this.c:this.e===0?y.FailWith("Enumeration has not started. Call MoveNext."):y.FailWith("Enumeration already finished.")},Dispose:function(){this.d&&this.d(this)}},C,fe),fe.New=k.Ctor(function(t,n,r,o){C.New.call(this),this.s=t,this.c=n,this.n=r,this.d=o,this.e=0},fe),Ie.$cctor=function(){Ie.$cctor=d.ignore,Ie.CubicInOut=Fe.Custom(function(t){var n;return n=t*t,3*n-2*(n*t)}),Ie.UseAnimations=!0},he.Append=function(t,n){return t.$==0?n:n.$==0?t:{$:2,$0:t,$1:n}},he.ToArray=function(t){var n;function r(o){for(var i,u;;){if(o.$==1)return n.push(o.$0);if(o.$==2)i=o.$1,u=o.$0,r(u),o=i;else return o.$==3?f.iter(function(a){n.push(a)},o.$0):null}}return n=[],r(t),n.slice(0)},he.Concat=function(t){var n;return n=le.ofSeqNonCopying(t),le.TreeReduce(he.Empty(),he.Append,n)},he.Empty=function(){return De.$cctor(),De.Empty},x.ApplyValue=function(t,n,r){var o;function i(u,a){return a==null?null:u(a.$0)}return o=null,[function(u){function a(){r.UpdateMaybe(function(h){var $;return o=t(u),o!=null&&o.$==1&&!g.Equals(o.$0,h)&&($=[o,o.$0],!0)?$[0]:null})}u.addEventListener("change",a),u.addEventListener("input",a),u.addEventListener("keypress",a)},function(u){var a;return a=n(u),function(h){return i(a,h)}},_.Map(function(u){return o!=null&&o.$==1&&g.Equals(o.$0,u)&&(o.$0,!0)?null:{$:1,$0:u}},r.get_View())]},x.StringSet=function(){return A.$cctor(),A.StringSet},x.StringGet=function(){return A.$cctor(),A.StringGet},x.DateTimeSetUnchecked=function(){return A.$cctor(),A.DateTimeSetUnchecked},x.DateTimeGetUnchecked=function(){return A.$cctor(),A.DateTimeGetUnchecked},x.FileApplyValue=function(t,n,r){var o;function i(u,a){return a==null?null:u(a.$0)}return o=null,[function(u){u.addEventListener("change",function(){r.UpdateMaybe(function(a){var h;return o=t(u),o!=null&&o.$==1&&o.$0!==a&&(h=[o,o.$0],!0)?h[0]:null})})},function(u){var a;return a=n(u),function(h){return i(a,h)}},_.Map(function(u){return o!=null&&o.$==1&&g.Equals(o.$0,u)&&(o.$0,!0)?null:{$:1,$0:u}},r.get_View())]},x.FileSetUnchecked=function(){return A.$cctor(),A.FileSetUnchecked},x.FileGetUnchecked=function(){return A.$cctor(),A.FileGetUnchecked},x.IntSetUnchecked=function(){return A.$cctor(),A.IntSetUnchecked},x.IntGetUnchecked=function(){return A.$cctor(),A.IntGetUnchecked},x.IntSetChecked=function(){return A.$cctor(),A.IntSetChecked},x.IntGetChecked=function(){return A.$cctor(),A.IntGetChecked},x.FloatSetUnchecked=function(){return A.$cctor(),A.FloatSetUnchecked},x.FloatGetUnchecked=function(){return A.$cctor(),A.FloatGetUnchecked},x.FloatSetChecked=function(){return A.$cctor(),A.FloatSetChecked},x.FloatGetChecked=function(){return A.$cctor(),A.FloatGetChecked},Ge.isBlank=function(t){return R.forall(ht.IsWhiteSpace,t)},de=p.CheckedInput=k.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}},null,de),ct.Clear=function(t){t.splice(0,f.length(t))},pe=l.KeyNotFoundException=k.Class({},Qe,pe),pe.New=k.Ctor(function(){pe.New$1.call(this,"The given key was not present in the dictionary.")},pe),pe.New$1=k.Ctor(function(t){this.message=t,Re.setPrototypeOf(this,pe.prototype)},pe),Ye=F.Scheduler=k.Class({Fork:function(t){var n;n=this,this.robin.push(t),this.idle&&(this.idle=!1,d.setTimeout(function(){n.tick()},0))},tick:function(){var t,n,r;for(n=this,r=et.now(),t=!0;t;)this.robin.length===0?(this.idle=!0,t=!1):(this.robin.shift()(),et.now()-r>40&&(d.setTimeout(function(){n.tick()},0),t=!1))}},C,Ye),Ye.New=k.Ctor(function(){C.New.call(this),this.idle=!0,this.robin=[]},Ye),Fe=p.Easing=k.Class({},C,Fe),Fe.Custom=function(t){return new Fe.New(t)},Fe.New=k.Ctor(function(t){C.New.call(this),this.transformTime=t},Fe),Je.New=function(t,n){return{k:t,ct:n}},ie.$cctor=function(){ie.$cctor=d.ignore,ie.noneCT=ft.New(!1,[]),ie.scheduler=new Ye.New,ie.defCTS=[new Me.New],ie.Zero=F.Return(),ie.GetCT=function(t){t.k({$:0,$0:t.ct})}},ft.New=function(t,n){return{c:t,r:n}},ue.Filter=function(t,n){return new j.New$2(f.filter(t,ue.ToArray(n)))},ue.Except=function(t,n){var r;return r=new j.New$2(ue.ToArray(n)),r.ExceptWith(ue.ToArray(t)),r},ue.ToArray=function(t){var n;return n=f.create(t.Count(),void 0),t.CopyTo(n,0),n},ue.Intersect=function(t,n){var r;return r=new j.New$2(ue.ToArray(t)),r.IntersectWith(ue.ToArray(n)),r},Be.concat=function(t){var n;n=[];for(var r in t)n.push.apply(n,t[r]);return n},ht.IsWhiteSpace=function(t){return t.match(new d.RegExp("\\s"))!==null},dt.TryParse=function(t){var n;return n=et.parse(t),d.isNaN(n)?null:{$:1,$0:n}},je.TryParse=function(t,n,r,o){var i,u;return i=+t,u=i===i-i%1&&i>=n&&i<=r,u&&o.set(i),u},Me=l.CancellationTokenSource=k.Class({},C,Me),Me.New=k.Ctor(function(){C.New.call(this),this.c=!1,this.pending=null,this.r=[],this.init=1},Me),we.Children=function(t,n){var r,o,i;if(n!=null&&n.$==1){for(i=[],r=n.$0[0].nextSibling;r!==n.$0[1];)i.push(r),r=r.nextSibling;return{$:0,$0:i}}else return{$:0,$0:f.init(t.childNodes.length,(o=t.childNodes,function(u){return o[u]}))}},we.Except=function(t,n){var r;return r=t.$0,{$:0,$0:f.filter(function(o){return f.forall(function(i){return o!==i},r)},n.$0)}},we.Iter=function(t,n){f.iter(t,n.$0)},we.DocChildren=function(t){var n;function r(o){for(var i,u,a,h;;)if(o!=null&&o.$==2)u=o.$0,o=u.Current;else{if(o!=null&&o.$==1)return n.push(o.$0.El);if(o==null)return null;if(o!=null&&o.$==5)return n.push(o.$0);if(o!=null&&o.$==4)return n.push(o.$0.Text);if(o!=null&&o.$==6)return i=o.$0.Els,function($){return function(L){f.iter($,L)}}(function($){$==null||$.constructor===Re?r($):n.push($)})(i);a=o.$1,h=o.$0,r(h),o=a}}return n=[],r(t.Children),{$:0,$0:le.ofSeqNonCopying(n)}},ye=l.OperationCanceledException=k.Class({},Qe,ye),ye.New=k.Ctor(function(t){ye.New$1.call(this,"The operation was canceled.",null,t)},ye),ye.New$1=k.Ctor(function(t,n,r){this.message=t,this.inner=n,Re.setPrototypeOf(this,ye.prototype),this.ct=r},ye),qe.Create=function(t){return yt.New(!1,t,qe.forceLazy)},qe.forceLazy=function(){var t;return t=this.v(),this.c=!0,this.v=t,this.f=qe.cachedLazy,t},qe.cachedLazy=function(){return this.v},De.$cctor=function(){De.$cctor=d.ignore,De.Empty={$:0}},yt.New=function(t,n,r){return{c:t,v:n,f:r}},k.OnLoad(function(){c.Main()})})(self);typeof WebSharper<"u"&&(WebSharper.Runtime.ScriptBasePath="/Content/",WebSharper.Runtime.Start());
